<ac:layout>
    <ac:layout-section ac:type="two_equal">
        <ac:layout-cell>
            <br/><br/><br/>
            <table>
                <tbody>
                    <tr>
                        <th>The Infinite Task Queue</th>
                    </tr>
                    {% for card in data["infinite_task_queue"] %}
                        <tr>
                            <td colspan="1">
                                {% if card["domain"] in data["domains"] %}
                                    <strong>{{card["domain"]}} :: </strong>
                                {% endif %}
                                &nbsp;<a href='{{card["url"]}}'>{{card["name"]}}</a>
                            </td>
                        </tr>
                    {% endfor %}

                    <tr>
                        <td colspan="1" class="highlight-red" data-highlight-colour="red">&uarr;&nbsp;</td>
                    </tr>
                    
                    {% for card in data["bucket_task_queue"] %}
                        <tr>
                            <td colspan="1">
                                {% if card["domain"] in data["domains"] %}
                                    <strong>{{card["domain"]}} :: </strong>
                                {% endif %}
                                &nbsp;<a href='{{card["url"]}}'>{{card["name"]}}</a>
                            </td>
                        </tr>
                    {% endfor %}

                    {% for card in data["in_progress_task_queue"] %}
                        <tr>
                            <td colspan="1" class="highlight-blue" data-highlight-colour="blue">
                                {% if card["domain"] in data["domains"] %}
                                    <strong>{{card["domain"]}} :: </strong>
                                {% endif %}
                                &nbsp;<a href='{{card["url"]}}'>{{card["name"]}}</a>  
                            </td>
                        </tr>
                    {% endfor %}

                    {% for completed_task_list_by_month in data["completed_task_queue"] %}
                        
                        {% for card in completed_task_list_by_month["cards"] %}
                            <tr>
                                <td colspan="1" class="highlight-green" data-highlight-colour="green">
                                    {% if card["domain"] in data["domains"] %}
                                        <strong>{{card["domain"]}} :: </strong>
                                    {% endif %}
                                    &nbsp;<a href='{{card["url"]}}'>{{card["name"]}}</a>      
                                </td>
                            </tr>
                        {% endfor %}

                        <tr>
                            <td colspan="1" class="highlight-red" data-highlight-colour="red">&uarr;&nbsp;{{completed_task_list_by_month["month"]}}</td>
                        </tr>
                    {% endfor %}                    
                </tbody>
            </table>
        </ac:layout-cell>
        <ac:layout-cell>
            <div style="text-align: right">This page is autogenerated using <a href="https://github.com/rusty-coder/lifelist-pipeline-integration">lifelist-pipeline-integration</a>.</div>
            <br/><br/>
            <table>
                <tbody>
                    <tr>
                        <th colspan="1">Domain</th>
                        <th colspan="1">Queue</th>
                        <th colspan="1">Bucket</th>
                        <th colspan="1">Stopped</th>
                        <th colspan="1">InProgress</th>
                        <th colspan="1">Done</th>
                        <th colspan="1">Total</th>
                    </tr>

                    {% for domain in data["domains"] %}
                        <tr>
                            <td colspan="1">
                                {{data["task_count_by_domain"][domain]["domain_text"]}}(<strong>{{domain}}</strong>)
                            </td>
                            <td colspan="1" style="text-align: center;">
                                {{data["task_count_by_domain"][domain]["backlog"]}}
                            </td>
                            <td colspan="1" style="text-align: center;">
                                {{data["task_count_by_domain"][domain]["bucket"]}}
                            </td>
                            <td colspan="1" class="highlight-grey" data-highlight-colour="grey" style="text-align: center;">
                                {{data["task_count_by_domain"][domain]["suspended"]}}
                            </td>
                            <td colspan="1" class="highlight-blue" data-highlight-colour="blue" style="text-align: center;">
                                {{data["task_count_by_domain"][domain]["inprogress"]}}
                            </td>
                            <td colspan="1" class="highlight-green" data-highlight-colour="green" style="text-align: center;">
                                {{data["task_count_by_domain"][domain]["completed"]}}
                            </td>
                            <td colspan="1" class="highlight-yellow" data-highlight-colour="yellow" style="text-align: center;">
                                {{data["task_count_by_domain"][domain]["total"]}}
                            </td>
                        </tr>
                    {% endfor %}                    
                </tbody>
            </table>
            <p>&nbsp;</p>
            <table>
                <tbody>
                    <tr>
                        <th colspan="1">Suspended Tasks</th>
                    </tr>
                    {% for card in data["suspended_task_queue"] %}
                        <tr>
                            <td colspan="1">
                                {% if card["domain"] in data["domains"] %}
                                    <strong>{{card["domain"]}} :: </strong>
                                {% endif %}
                                &nbsp;<a href='{{card["url"]}}'>{{card["name"]}}</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
        </ac:layout-cell>
    </ac:layout-section>
</ac:layout>
